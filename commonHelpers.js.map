{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImage(image) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const params = new URLSearchParams({\n    key: '44825228-c925ad4267e8085ff76ea7430',\n    q: image,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n  return fetch(url).then(res => res.json());\n}\n","// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet galleryIt = new SimpleLightbox('.gallery-item a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function renderGallery(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n      <li class=\"gallery-item\">\n          <a href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" class=\"gallery-image\"/>\n          </a>\n          <ul class=\"info\">\n            <li class=\"info-item\"> <h2 class=\"info-text\">Likes</h2> <p class=\"info-value\">${likes}</p> </li>\n            <li class=\"info-item\"> <h2 class=\"info-text\">Views</h2> <p class=\"info-value\">${views}</p> </li>\n            <li class=\"info-item\"> <h2 class=\"info-text\">Comments</h2> <p class=\"info-value\">${comments}</p> </li>\n            <li class=\"info-item\"> <h2 class=\"info-text\">Downloads</h2> <p class=\"info-value\">${downloads}</p> </li>\n          </ul>\n        </li>\n    `\n    )\n    .join('');\n  galleryIt.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImage } from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\n\nconst formEl = document.querySelector('.search-form');\nconst inputEl = document.querySelector('.searchInput');\nconst loading = document.querySelector('.loading');\nconst gallery = document.querySelector('.gallery');\n\n// Обробник події submit для форми\nformEl.addEventListener('submit', e => {\n  e.preventDefault();\n  const userImg = inputEl.value.toLowerCase().trim();\n\n  if (userImg === '') {\n    iziToast.error({\n      position: 'topRight',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n    return;\n  }\n\n  loading.style.display = 'flex';\n  gallery.innerHTML = '';\n\n  getImage(userImg)\n    .then(({ hits }) => {\n      if (hits.length === 0) {\n        iziToast.error({\n          title: '',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          maxWidth: '432px',\n          color: '#ef4040',\n        });\n        gallery.innerHTML = '';\n        loading.style.display = 'none';\n        formEl.reset();\n        return;\n      }\n      renderGallery(hits);\n      loading.style.display = 'none';\n      formEl.reset();\n    })\n    .catch(err => {\n      console.log(err);\n      iziToast.error({\n        title: 'Error',\n        message:\n          'An error occurred while fetching pictures. Please try again later.',\n        position: 'topRight',\n      });\n      loading.style.display = 'none';\n    });\n});\n"],"names":["getImage","image","BASE_URL","END_POINT","params","url","res","galleryIt","SimpleLightbox","renderGallery","images","gallery","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formEl","inputEl","loading","e","userImg","iziToast","hits","err"],"mappings":"6vBAAO,SAASA,EAASC,EAAO,CAC9B,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAC7C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC1C,CCPA,IAAIC,EAAY,IAAIC,EAAe,kBAAmB,CACpD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAYD,EACjB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,qBAESL,CAAa;AAAA,wBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,4FAG0CC,CAAK;AAAA,4FACLC,CAAK;AAAA,+FACFC,CAAQ;AAAA,gGACPC,CAAS;AAAA;AAAA;AAAA,KAIpG,EACA,KAAK,EAAE,EACVX,EAAU,QAAO,CACnB,CChCA,MAAMY,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAU,SAAS,cAAc,UAAU,EAC3CV,EAAU,SAAS,cAAc,UAAU,EAGjDQ,EAAO,iBAAiB,SAAUG,GAAK,CACrCA,EAAE,eAAc,EAChB,MAAMC,EAAUH,EAAQ,MAAM,YAAa,EAAC,KAAI,EAEhD,GAAIG,IAAY,GAAI,CAClBC,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACR,CAAK,EACD,MACD,CAEDH,EAAQ,MAAM,QAAU,OACxBV,EAAQ,UAAY,GAEpBX,EAASuB,CAAO,EACb,KAAK,CAAC,CAAE,KAAAE,KAAW,CAClB,GAAIA,EAAK,SAAW,EAAG,CACrBD,EAAS,MAAM,CACb,MAAO,GACP,QACE,2EACF,SAAU,WACV,SAAU,QACV,MAAO,SACjB,CAAS,EACDb,EAAQ,UAAY,GACpBU,EAAQ,MAAM,QAAU,OACxBF,EAAO,MAAK,EACZ,MACD,CACDV,EAAcgB,CAAI,EAClBJ,EAAQ,MAAM,QAAU,OACxBF,EAAO,MAAK,CAClB,CAAK,EACA,MAAMO,GAAO,CACZ,QAAQ,IAAIA,CAAG,EACfF,EAAS,MAAM,CACb,MAAO,QACP,QACE,qEACF,SAAU,UAClB,CAAO,EACDH,EAAQ,MAAM,QAAU,MAC9B,CAAK,CACL,CAAC"}